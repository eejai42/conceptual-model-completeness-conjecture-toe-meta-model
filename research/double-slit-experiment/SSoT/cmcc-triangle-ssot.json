[
    {
      "name": "Vertex",
      "fields": [
        { "name": "x", "type": "scalar", "description": "X-coordinate" },
        { "name": "y", "type": "scalar", "description": "Y-coordinate" }
      ]
    },
    {
      "name": "Edge",
      "fields": [
        { "name": "start_vertex", "type": "scalar", "description": "ID of start vertex" },
        { "name": "end_vertex", "type": "scalar", "description": "ID of end vertex" },
        { "name": "start_x", "type": "scalar" },
        { "name": "start_y", "type": "scalar" },
        { "name": "end_x", "type": "scalar" },
        { "name": "end_y", "type": "scalar" },
        {
          "name": "length",
          "type": "calculated",
          "description": "Euclidean distance",
          "formula": "SQRT( ADD( POWER( SUBTRACT(end_x, start_x), 2 ), POWER( SUBTRACT(end_y, start_y), 2 ) ) )"
        },
        { "name": "belongs_to_polygon", "type": "scalar" },
        {
          "name": "hypotenuse",
          "type": "calculated",
          "description": "Check if this edge length is the polygon's max_edge_length",
          "formula": "EQUAL( length, belongs_to_polygon.max_edge_length )"
        }
      ]
    },
    {
      "name": "Polygon",
      "fields": [
        {
          "name": "vertices",
          "type": "scalar",
          "description": "List of Vertex objects or IDs"
        },
        {
          "name": "edges",
          "type": "scalar",
          "description": "List of Edge objects or IDs"
        },
        {
          "name": "edge_count",
          "type": "calculated",
          "description": "Number of edges",
          "formula": "LEN(edges)"
        },
        {
          "name": "perimeter",
          "type": "calculated",
          "description": "Sum of edge.length for each edge in edges",
          "formula": "SUM_OVER(edges, length)"
        },
        {
          "name": "max_edge_length",
          "type": "calculated",
          "description": "Maximum of edges[].length",
          "formula": "MAX_OVER(edges, length)"
        },
        {
          "name": "area",
          "type": "calculated",
          "description": "Polygon area (e.g. shoelace formula on vertices)",
          "formula": "SHOELACE(vertices)"
        },
        {
          "name": "shape_type",
          "type": "calculated",
          "description": "Identify as 'Triangle','Quadrilateral', or 'Polygon'",
          "formula": "IF( EQUAL(edge_count, 3), 'Triangle', IF( EQUAL(edge_count, 4), 'Quadrilateral', 'Polygon'))"
        }
      ]
    }
  ]
  